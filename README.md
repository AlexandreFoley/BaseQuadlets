This repo contain quadlet files for my "base" set of quadlet:
- Nextcloud, a cloud system for file sharing across devices and user, with many collaborative tools.
- authelia, a lightweight authentication provider, to secure any of the service you expose to the internet, and provide a Single-Sign-On for those that can interact with OpenId providers.
- lldap, a simple and lightweight identity manager to provide a single source of truth for users identity and identification (usernames and passwords).

Those three services can work together and with many other, but quite a bit of configuration is necessary, especially for authelia.
Go to their respective documentation on the web, it's pretty good.
The podman quadlet will get them running fairly fast on you systemd+podman linux distro, especially nextcloud. But as written previously, there's quite a bit of configuration to do.

To have those ready to run as userland systemd services, copy everything from this repo (but the readme) to `~/.config/container/systemd` as is. 
The run the command `systemctl --user daemon-reload`.
The next step depend on which of the three services you are working on.

For nextcloud you can just start it and follow the instructions it provides: `systemctl --user start nextcloud`.

For lldap, you have to first follow the (bootstrap procedure)[https://github.com/lldap/lldap/tree/main/example_configs/podman-quadlets].

For authelia, you have to prepare your config file. A skeleton file can be auto generated by running the container once. In practice, this file is non-functionnal, but it does contain many explanations. It's in the Authelia volume. 
- You can find where this volume is located on your file system by running `podman volume inspect Authelia`.
  - It's the "Mountpoint" entry in the output.
- Accessing the content of the volume require elevated privilege by design, take note of owning user and group for the config file.
  - run `ls -ltr` in a terminal at the volume directory
  - user and group values are in the 3rd and 4th column of the output of the command.
- Be careful that ownership doesn't change when you edit the file.
- If it does change, restore it to its original owner and group.
  - run `sudo chown <user>:<group> config.yaml` in a terminal where '<user>' and '<group>' are substituted with the values you identified earlier. 
